# Waltech Ladder Maker - Test Scenarios

This document outlines manual test scenarios for verifying the functionality of the Waltech Ladder Maker application.

## I. General Application & File Operations

| Test ID | Scenario                       | Steps                                                                                                                                                                                                                            | Expected Result                                                                                                                                                                                                                                                         | Actual Result | Status (Pass/Fail) | Notes                                      |
|---------|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|--------------------------------------------|
| GEN-001 | Application Startup            | 1. Navigate to the application's root directory. <br> 2. Run `python program/main.py`.                                                                                                                                           | Application window opens without errors. Default empty grid is displayed.                                                                                                                                                                                                 |               |                    |                                            |
| GEN-002 | Create New Diagram             | 1. With the application open, go to File > New.                                                                                                                                                                                  | Current diagram is cleared. A new empty grid with default rungs appears. Element list table is cleared.                                                                                                                                                                     |               |                    |                                            |
| GEN-003 | Save Diagram (New File)        | 1. Create a simple diagram (e.g., one contact, one coil). <br> 2. Go to File > Save. <br> 3. Enter a filename (e.g., `test_save.wlm`) and choose a location. <br> 4. Click Save.                                                   | File is saved successfully. No errors.                                                                                                                                                                                                                                   |               |                    | Verify file exists at the chosen location. |
| GEN-004 | Save Diagram As                | 1. With `test_save.wlm` open, go to File > Save As. <br> 2. Enter a new filename (e.g., `test_save_as.wlm`). <br> 3. Click Save.                                                                                                    | File is saved under the new name. `test_save.wlm` remains unchanged.                                                                                                                                                                                                        |               |                    | Verify both files exist.                   |
| GEN-005 | Open Existing Diagram          | 1. Go to File > New to clear the current diagram. <br> 2. Go to File > Open. <br> 3. Select `test_save.wlm`. <br> 4. Click Open.                                                                                                     | The diagram from `test_save.wlm` is loaded correctly. Element list table is populated. Hardware selection (if saved with file) is restored.                                                                                                                               |               |                    |                                            |
| GEN-006 | Undo Action                    | 1. Place an element on the grid. <br> 2. Go to Edit > undo (or press Ctrl+Z or click Undo button).                                                                                                                               | The element placement is reversed. The grid returns to its state before the element was placed.                                                                                                                                                                           |               |                    |                                            |
| GEN-007 | Redo Action                    | 1. After performing GEN-006, go to Edit > redo (or press Ctrl+R or click Redo button).                                                                                                                                          | The element placement is reapplied.                                                                                                                                                                                                                                     |               |                    |                                            |
| GEN-008 | "What's This?" Help            | 1. Go to Help > WhatsThis. <br> 2. Click on a toolbar button (e.g., Normally Open Contact).                                                                                                                                     | A help tooltip/popup appears describing the selected tool.                                                                                                                                                                                                              |               |                    |                                            |
| GEN-009 | Application Close              | 1. Go to File > Close.                                                                                                                                                                                                           | Application closes without errors.                                                                                                                                                                                                                                      |               |                    |                                            |

## II. Ladder Diagram Editing

| Test ID | Scenario                         | Steps                                                                                                                                                                                                                                                              | Expected Result                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) | Notes                                                              |
|---------|----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|--------------------------------------------------------------------|
| EDIT-001| Add Rung                         | 1. Select the "addRung" tool. <br> 2. Click between existing rungs or at the bottom of the grid.                                                                                                                                                                   | A new horizontal rung is inserted at the clicked location. Existing rungs below are shifted down.                                                                                                                                            |               |                    |                                                                    |
| EDIT-002| Widen Ladder                     | 1. Select the "Widen" tool. <br> 2. Click anywhere on the grid.                                                                                                                                                                                                      | The entire ladder diagram becomes one column wider.                                                                                                                                                                                       |               |                    |                                                                    |
| EDIT-003| Narrow Ladder (if possible)      | 1. Ensure the ladder has empty columns. <br> 2. Select the "Narrow" tool. <br> 3. Click on the grid.                                                                                                                                                               | The ladder diagram becomes one column narrower by removing an empty column. If no empty columns allow narrowing, no change or a specific empty column is removed. Elements are not deleted. Min width (e.g. 10 cols) is respected.          |               |                    | Test when narrowest possible.                                      |
| EDIT-004| Delete Element                   | 1. Place an element (e.g., a contact). <br> 2. Select the "DEL" tool. <br> 3. Click on the placed element.                                                                                                                                                            | The element is removed from the grid. The cell becomes an "MT" (empty) cell or "blankOR" if it was on an OR branch. Element list table is updated.                                                                                             |               |                    |                                                                    |
| EDIT-005| Delete Rung (empty)              | 1. Ensure an empty rung exists or delete all elements from a rung. <br> 2. Select the "DEL" tool. <br> 3. Click on an empty part of that rung.                                                                                                                       | The empty rung is removed. Rungs below are shifted up.                                                                                                                                                                                    |               |                    | Test that rungs with OR branches below are not deleted this way.   |
| EDIT-006| Add OR Wire                      | 1. Have at least two rungs. <br> 2. Select the "OR wire" tool. <br> 3. Click in a cell on a rung that is above another rung's cell in the same column (where a vertical wire would go).                                                                              | A vertical wire connects the cell to the one below it. The rung below might convert to an "OR" type row if it wasn't already. Cell below becomes "blankOR" if empty.                                                                       |               |                    |                                                                    |
| EDIT-007| Remove OR Wire                   | 1. After performing EDIT-006, select the "OR wire" tool again. <br> 2. Click on the same cell where the OR wire was initiated (or on the "blankOR" cell below).                                                                                                        | The vertical wire is removed. The cell below becomes "MT" if it was "blankOR" and no other connections exist. If an OR row becomes empty of OR elements, it might revert to a normal Rung or be removable.                                    |               |                    |                                                                    |

## III. Element Placement and Configuration

*For each element type, test placement, initial configuration, and editing configuration.*

| Test ID  | Element Type        | Scenario                                           | Steps                                                                                                                                                                                                                                                                                                                                                                                                                         | Expected Result                                                                                                                                                                                                                                                                                                                                                                                                                      | Actual Result | Status (Pass/Fail) | Notes                                                                                                                                                                  |
|----------|---------------------|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ELEM-001 | Contact NO          | Place & Configure                                  | 1. Select "contNO" tool. <br> 2. Click on a grid cell. <br> 3. In dialog: assign "in_1", Name "Start_PB", Comment "Start Pushbutton". Click OK. <br> 4. Right-click element. Change comment to "Main Start PB". Click OK.                                                                                                                                                                                                     | Element placed. Icon and text (Name, IO, Comment) appear correctly. Element list table updated. Configuration dialog pre-fills correctly on right-click. Changes are saved.                                                                                                                                                                                                                                                               |               |                    |                                                                                                                                                                        |
| ELEM-002 | Contact NC          | Place & Configure                                  | 1. Select "contNC" tool. <br> 2. Click on a grid cell. <br> 3. In dialog: assign "in_2", Name "Stop_PB", Comment "Stop Pushbutton". Click OK.                                                                                                                                                                                                                                                                                | Similar to ELEM-001.                                                                                                                                                                                                                                                                                                                                                                                                                 |               |                    |                                                                                                                                                                        |
| ELEM-003 | Coil                | Place & Configure                                  | 1. Select "Coil" tool. <br> 2. Click on a grid cell (should auto-place on right if position="right"). <br> 3. In dialog: assign "out_1", Name "Motor_Coil", Comment "Main Motor". Click OK.                                                                                                                                                                                                                                  | Element placed (likely far right). Icon and text appear. Element list updated.                                                                                                                                                                                                                                                                                                                                                       |               |                    | Verify "right" placement behavior.                                                                                                                                     |
| ELEM-004 | Timer               | Place & Configure                                  | 1. Select "Timer" tool. <br> 2. Click cell. <br> 3. Dialog: Setpoint 5.0s, Name "Delay_Timer", Comment "5s On-Delay". Click OK.                                                                                                                                                                                                                                                                                                | Element placed. Icon, Name, Setpoint, Comment appear. List updated.                                                                                                                                                                                                                                                                                                                                                                  |               |                    |                                                                                                                                                                        |
| ELEM-005 | Counter             | Place & Configure                                  | 1. Select "Counter" tool. <br> 2. Click cell. <br> 3. Dialog: Setpoint 10, Name "Part_Counter", Comment "Counts 10 parts". Click OK.                                                                                                                                                                                                                                                                                           | Element placed. Icon, Name, Setpoint, Comment appear. List updated.                                                                                                                                                                                                                                                                                                                                                                  |               |                    |                                                                                                                                                                        |
| ELEM-006 | Math (e.g., Plus)   | Place & Configure                                  | 1. Select "Plus" tool. <br> 2. Click cell (should auto-place on right). <br> 3. Dialog: Name "Sum_Value", Source A "Var1", Source B "Constant" (value 5). Click OK.                                                                                                                                                                                                                                                             | Element placed (far right). Icon, Name, Sources appear. List updated.                                                                                                                                                                                                                                                                                                                                                                |               |                    | Create `Var1` (e.g. an ADC output) first or ensure it can be typed.                                                                                                    |
| ELEM-007 | Comparison (Equals) | Place & Configure                                  | 1. Select "Equals" tool. <br> 2. Click cell. <br> 3. Dialog: Source A "Sensor_Val", Source B "Constant" (value 100). Click OK.                                                                                                                                                                                                                                                                                            | Element placed. Icon, Sources appear. List updated.                                                                                                                                                                                                                                                                                                                                                                                  |               |                    | Create `Sensor_Val` first.                                                                                                                                             |
| ELEM-008 | PWM                 | Place & Configure (HW dependent)                   | 1. Select "Arduino Uno" hardware. <br> 2. Select "PWM" tool. <br> 3. Click cell (far right). <br> 4. Dialog: Output "pwm_1", Duty Cycle 50.0. Click OK.                                                                                                                                                                                                                                                                         | Element placed. Icon, Output, Duty Cycle appear. List updated. Tool should be enabled.                                                                                                                                                                                                                                                                                                                                               |               |                    | Test with "Waltech" hardware (tool should be disabled).                                                                                                                |
| ELEM-009 | ADC                 | Place & Configure (HW dependent)                   | 1. Select "Arduino Uno" hardware. <br> 2. Select "ADC" tool. <br> 3. Click cell (far right). <br> 4. Dialog: Input "adc_1", Name "Temp_Sensor". Click OK.                                                                                                                                                                                                                                                                      | Element placed. Icon, Input, Name appear. List updated. Tool should be enabled.                                                                                                                                                                                                                                                                                                                                                      |               |                    | Test with "Waltech" hardware (tool should be disabled).                                                                                                                |
| ELEM-010 | Falling Edge        | Place & Configure                                  | 1. Select "falling" tool. <br> 2. Click cell. <br> 3. Dialog: Comment "Detects falling edge". Click OK.                                                                                                                                                                                                                                                                                                                        | Element placed. Icon, Comment appear. List updated.                                                                                                                                                                                                                                                                                                                                                                                  |               |                    |                                                                                                                                                                        |
| ELEM-011 | Linked Elements     | Contact and Coil with same name                    | 1. Place a Coil, Name "Internal_Bit". <br> 2. Place a Normally Open Contact, Name "Internal_Bit", I/O "Internal".                                                                                                                                                                                                                                                                                                            | Both elements placed. They share the same name. This implies a logical link in the generated code.                                                                                                                                                                                                                                                                                                                               |               |                    | Verify in generated C code if possible.                                                                                                                                |
| ELEM-012 | Invalid Name Entry  | Attempt to enter name with spaces/special chars    | 1. Place any element that takes a name. <br> 2. In dialog, for Name, enter "My Name" or "My-Name". <br> 3. Click OK.                                                                                                                                                                                                                                                                                                       | Application should either prevent invalid characters, automatically correct them (e.g. to "My_Name"), or show an error/warning. If saved, it should be a valid C identifier. The application seems to default to "please_rename" or similar. |               |                    | Check actual behavior.                                                                                                                                                 |

## IV. Hardware Interaction & Compilation

| Test ID | Scenario                         | Steps                                                                                                                                                                                                                                                              | Expected Result                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) | Notes                                                                                                                                       |
|---------|----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| HW-001  | Select Hardware (Waltech)        | 1. Go to Hardware > Waltech.                                                                                                                                                                                                                                         | "Waltech" is checkmarked. PWM/ADC tools might become disabled.                                                                                                                                                                            |               |                    |                                                                                                                                             |
| HW-002  | Select Hardware (Arduino Uno)    | 1. Go to Hardware > Arduino Uno.                                                                                                                                                                                                                                     | "Arduino Uno" is checkmarked. PWM/ADC tools become enabled.                                                                                                                                                                               |               |                    |                                                                                                                                             |
| HW-003  | Test USB (No Hardware Connected) | 1. Ensure no hardware is connected or select a different hardware type than what's connected. <br> 2. Go to Hardware > Test USB.                                                                                                                                     | Output console shows errors indicating no device found or communication failure.                                                                                                                                                            |               |                    |                                                                                                                                             |
| HW-004  | Test USB (Waltech Connected)     | 1. Connect Waltech hardware. <br> 2. Select "Waltech" in Hardware menu. <br> 3. Go to Hardware > Test USB.                                                                                                                                                             | Output console shows successful communication, possibly fuse readings or device signature.                                                                                                                                                |               |                    | Requires actual Waltech hardware.                                                                                                           |
| HW-005  | Test USB (Arduino Uno Connected) | 1. Connect Arduino Uno. <br> 2. Select "Arduino Uno" in Hardware menu. <br> 3. Go to Hardware > Test USB.                                                                                                                                                              | Output console shows successful communication, possibly device signature or "AVR device initialized".                                                                                                                                     |               |                    | Requires Arduino Uno.                                                                                                                       |
| HW-006  | Compile Basic Diagram (Uno)    | 1. Select "Arduino Uno". <br> 2. Create a simple diagram: `in_1` (NO Contact) -> `out_1` (Coil). <br> 3. Click "Compile" button.                                                                                                                                         | Output console shows C code generation, `avr-gcc` compilation steps, and `avrdude` uploading steps. Ends with "avrdude done. Thank you." or similar success message. `program/C/main.c` and `.hex` files are generated.                   |               |                    | Requires Arduino Uno connected and correctly configured (port, drivers). Program should function on Arduino (input 1 controls output 1).        |
| HW-007  | Compile with All Elements (Uno)| 1. Select "Arduino Uno". <br> 2. Create a diagram using one of each compatible element type (Contact, Coil, Timer, Counter, Math, Comparison, PWM, ADC). Configure them with valid parameters. <br> 3. Click "Compile".                                              | Compiles and uploads successfully. `main.c` includes logic for all elements.                                                                                                                                                            |               |                    | This is a more complex test. Verify basic functionality of each element type on the Arduino if possible.                                  |
| HW-008  | Compile Error (e.g. bad C gen) | 1. (If a way to cause bad C code is known) Create such a diagram. <br> 2. Click "Compile".                                                                                                                                                                              | Output console shows `avr-gcc` errors. Upload does not occur.                                                                                                                                                                             |               |                    | Might be hard to reproduce without knowing specific bugs.                                                                                     |
| HW-009  | Upload Error (Port/No Board)   | 1. Select "Arduino Uno". <br> 2. Create simple diagram. <br> 3. Disconnect Arduino or ensure COM port is wrong for avrdude. <br> 4. Click "Compile".                                                                                                                       | `avr-gcc` might succeed, but `avrdude` shows errors (cannot open port, not responding, etc.).                                                                                                                                           |               |                    |                                                                                                                                             |
| HW-010  | Hardware Switch Compatibility  | 1. Select "Arduino Uno". Create diagram with ADC element using `adc_4`. <br> 2. Try to switch Hardware to "Waltech".                                                                                                                                                  | A warning dialog should appear ("too high number io or have PWM or ADC" or similar), and the hardware switch should be prevented or ADC element flagged/cleared. Current hardware should remain Arduino Uno.                                 |               |                    |                                                                                                                                             |

## V. Complex Logic Scenarios

| Test ID | Scenario                 | Steps                                                                                                                                                           | Expected Result                                                                                                                                  | Actual Result | Status (Pass/Fail) | Notes                                                                                                                                                                                                 |
|---------|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| LOGIC-001 | Series Contacts (AND)    | 1. Rung: Contact A (NO, in_1) -- Contact B (NO, in_2) -- Coil X (out_1). <br> 2. Compile & Upload to Uno.                                                     | Coil X activates only when both in_1 AND in_2 are active.                                                                                        |               |                    | Test all 4 input combinations.                                                                                                                                                                        |
| LOGIC-002 | Parallel Contacts (OR)   | 1. Rung 1: Contact A (NO, in_1) -- Coil X (out_1). <br> 2. Rung 2 (below Rung 1): Contact B (NO, in_2) -- (connect to Coil X with OR wire to right of B). | Coil X activates if EITHER in_1 OR in_2 (or both) are active. This requires creating an OR branch correctly.                                   |               |                    | Test all 4 input combinations. Pay attention to how the OR branch is drawn and translated. The tool generates branches and nodes, this will test a simple node.                                            |
| LOGIC-003 | Timer Logic              | 1. Rung: Contact A (NO, in_1) -- Timer T1 (5s) -- Coil X (out_1). <br> 2. Compile & Upload.                                                                    | When in_1 becomes true, Coil X activates after 5 seconds. If in_1 goes false before 5s, Coil X does not activate. If in_1 goes false after X is on, X deactivates. |               |                    | Test timing accuracy roughly.                                                                                                                                                                         |
| LOGIC-004 | Counter Logic            | 1. Rung: Contact A (NO, in_1, acts as pulse) -- Counter C1 (Setpoint 3) -- Coil X (out_1). <br> 2. Rung: Contact B (NO, in_2) -- Coil "C1" (to reset counter). <br> 3. Compile & Upload. | Coil X activates after in_1 has pulsed true 3 times. Activating in_2 resets the counter and deactivates Coil X (if it was on).             |               |                    |                                                                                                                                                                                                       |

This list is not exhaustive but covers the main functionalities. Further tests can be added for specific complex interactions or edge cases.
